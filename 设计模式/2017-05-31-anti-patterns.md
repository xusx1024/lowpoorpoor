---
layout:  
title:  软件开发反模式
date:   2017-05-31
categories: Design Pattern
tags: 设计模式
---
 

#### **过早优化** ####

##### what #####
	在你有足够的信息能确定在哪优化、如何优化之前就展开优化。

##### why #####
	想要知道实践中的确切瓶颈很困难。试图在得到实验数据之前就实行优化，可能会提高代码复杂度，并引发难以察举的bug。 
	Donald Knuth有云：97%的时间里，我们应该忘掉微不足道的效率：过早的优化是万恶之源。然后，在3%的决定性时刻，我们不该错过优化。

##### how #####
	把整洁的、可读性强的、能运行的代码放在首位，使用已知的和测试过的算法和工具。
	当需要找到瓶颈和决定优化优先级时，使用分析工具。依赖于测量而不是臆想和推断。 
	
	不假思索就动手，还不如不做。——Tim Peter

##### 总结 ##### 

	优化之前分析。避免为了效率而牺牲简洁性，除非效率被验证了的确是有必要的。



#### 单车车库 ####

##### what #####
	花大量时间来辩论和决定琐碎、太主观的问题的趋势。

##### why #####
	浪费时间。

##### how #####
	如果你注意到了，那鼓励团队成员意识到这种趋势，并且优先达成决定(投票、抛硬币等，如果你不得不这样做的话)。
	当这个决定有意义时，考虑随后A/B的来回顾这个决定，而不是进一步的内部讨论。

##### 总结 #####
	单车车库相对于提前优化更容易被发现和制止。只要注意你用在做决定和合约上的琐碎问题的时间，如果有必要，就加以干涉。
	避免花费太多时间在琐碎的事情上。

#### 分析瘫痪 ####
 
##### what #####
	对问题的过度分析，阻碍了行动和进展。

##### why #####
	过度分析会延缓进展，甚至彻底终止进展。在极端情况下，分析的结果到了要做的时候已经过时了，
	或者更糟的是，项目或许从来走不出分析阶段。当决定难以做出时，很容易想到，更多的信息将会有助于做出决定。	

##### how #####
	意识是有帮助的。重点在于迭代和改进。伴随着更多有帮助的、有意义的分析得到的数据，
	每次迭代都会提供更多的反馈。如果没有新的数据点，更多的分析将变得越来越让人猜疑。

##### 总结 #####
	宁愿迭代，也不用过度分析和猜测。

#### 上帝类 ####
	
##### what #####
	上帝类控制很值很多其他类，以及有很多依赖类，也就有更大的责任。

##### why #####
	违反了单一责任原则，难以单元测试、调试和记录文档。

##### how #####
	通过把责任打散成单一的、清晰的、经过单元测试的、文档易编写的类，可以避免类变成上帝类。

##### 总结 #####
	避免有着太多责任和依赖的庞大的类。

#### 新增类恐惧症 ####
##### what #####
	认为更多的类必然使得设计更加复杂，导致对新增类或把大类分解为一些小类感到恐惧。

##### why #####
	新增类可以明显降低复杂度。一些简单的、易于维护、易于记录文档的类，要远远好过于有着太多责任的、单一庞大的、复杂类。
##### how #####
	简化设计新增类，解耦代码中不必要的耦合部分。

##### 总结 #####
	类的数量多，并不能说明设计很糟糕。

#### 内部平台效应 ####

##### what #####
	复杂的软件系统趋势在于重实现它所运行的平台特点或平台所使用的语言，通常实现的比较烂。

##### why #####
	重新发明语言，导致代码阅读困难，有更陡峭的学习曲线，限制了重构和代码分析工具的效用。

##### how #####
	学习使用你的操作系统或平台提供的平台和功能，抵制住创建已有语言结构的诱惑。

##### 总结 #####
	避免重新发明你的操作系统或开发平台已经做得很多的功能。	

#### 魔法数和字符串 ####

##### what #####
	使用未命名的数字或字符串字面量，而不是在代码里命名为常量。

##### why #####
	增加了代码理解难度，如果必须要修改这些常量，寻找和替换会导致一些微妙的bug。

##### how #####
	使用命名的常量、资源检索方法或者注释。

##### 总结 #####
	避免在代码中出现未注释、未命名的数字和字符串字面量。

#### 数字管理 ####
>用代码行数来衡量开发进度，无异于用重量来衡量制造飞机的进度。——BillGates


##### what #####
	严格地依靠数字来做决定。

##### why #####
	在单车车库中，我们要求根据数据来优化或做决策，而不是光靠凭空想。但是，盲目的信任数字也很危险。
	例如，模型无效了但是数据还在，或者模型过期了，不再能精准的代表现实。这就会导致一些错误的决定，尤其是如果他们完全自动化时。

##### how #####
	理智地使用测量和数字，而非盲目。

##### 总结 #####
	用数字来得出你的决策，但不是用数字来做决定。

#### 幽灵类 ####
>要想达到完美，不是没有东西可加，而是没有东西可减。


##### what #####
	无用类本身没有真正的责任，经常用来指示调用另一个类的方法或者增加一层不必要的抽象。

##### why #####
	增加了测试和维护的复杂度，降低了代码的可读性。

##### how #####
	不要写无用的类，或者通过重构来消除。

##### 总结 #####
	避免没有真正责任的类。