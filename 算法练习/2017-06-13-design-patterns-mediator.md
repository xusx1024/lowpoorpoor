---
title: 中介者设计模式
date: 2017-06-13 
tags: 设计模式
categories: Design Pattern
---

#### 定义 ####

中介者模式(Mediator Pattern):用一中介对象封装一系列对象交互，中介者使对象不需要显示地相互引用，从而使其耦合松散，而且可以独立地改变他们之间的交互。中介者模式又称为调停者模式，是一种对象行为型模式。
 
#### 模式结构 ####

- Mediator：抽象中介者
- ConcreteMediator：具体中介者
- Colleague：抽象同事类
- ConcreteColleague：具体同事类
 
![类图](/images/mediator_pattern_class_diagram.png)

#### 时序图 ####

![时序图](/images/mediator_pattern_sequence_diagram.png)

#### 代码 ####
[GitHub](https://github.com/xusx1024/DesignPatternDemoCode/tree/master/MediatorPattern)
#### 分析 ####
##### 优点 #####
- 可以使对象的关系数量急剧减少，简化了对象之间的交互
- 将各同事解耦
- 减少子类生成
- 可以简化各同事类的设计和实现

##### 缺点 #####
- 中介者类中包含了同事之间的交互细节，可能会导致中介者类非常复杂，使得系统难以维护

##### 中介者的职责 #####
- 结构上的中转作用：通过中介者提供的中转作用，各个同事对象就不再需要显示引用其他同事，当需要和其他同事进行通信时，通过中介者即可。
- 行为上的协调作用：中介者可以更进一步的对同事之间的关系进行封装，同事可以一致地和中介者进行交互，而不需要指明中介者需要具体怎么做，中介者根据封装在自身内部的协调逻辑，对同事的请求进行进一步处理，将同事成员之间的关系行为进行分离和封装。
 
#### 扩展 ####
- 当系统中出现了“多对多”交互复杂的关系群时，千万别着急使用中介者模式，你首先需要做的就是反思你的系统在设计上是否合理
- 虚拟聊天室可用该模式
- MVC架构中的控制器可以该模式。Controller作为一种中介者，负责控制视图对象View和模型对象Model之间的交互
- 可方便地应用于图形界面开发中，在比较复杂的界面中可能存在多个界面组件之间的交互关系

#### 相较于观察者 ####
- 中介者涉及到中介和客户，解决的是客户之间消息传递的问题
- 观察者设计到观察者和目标，解决的是观察者和众多目标之间通信的问题，并非目标之间的通信
