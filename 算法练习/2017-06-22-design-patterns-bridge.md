---
title: 桥接模式
date: 2017-06-22
tags: 设计模式
categories: Design Pattern
---

#### 定义 ####

桥接模式(Bridge Pattern)：将抽象部分与它的实现部分分离，使它们都可以独立地变化。它是一种对象结构型模式，又称为柄体(Handle and Body)模式或接口(Interface)模式。
  
#### 模式结构 ####
 
- Abstraction： 抽象化角色，里面维持一个实现化实例的引用
- RefinedAbstraction：扩展抽象化角色，改变和修正父类对抽象化的定义
- Implementor：实现化角色。给出实现化角色的接口，但不给出具体的实现。这个接口不一定和抽象化角色的接口定义相同，实际上，这两个接口可以非常不一样。实现化角色应当只给出底层操作，而抽象化角色应当只给出基于底层操作的更高一层的操作
- ConcreteImplementor：具体实现化角色。

如图所示，两个继承等级结构之间存在一座桥梁即Abstraction持有Implementor的一个引用。
 
![类图](/images/bridge_pattern_class_diagram.png)
 
#### 时序图 ####

![时序图](/images/bridge_pattern_sequence_diagram.png)

#### 代码 ####

[GitHub](https://github.com/xusx1024/DesignPatternDemoCode/tree/master/BridgePattern)

#### 分析 ####
 
理解桥接模式，重点需要理解如何将抽象化（abstraction）与实现化（implementor）脱耦，使得二者可以独立地变化。

##### 优点 #####

- 分离抽象接口及其实现部分
- 桥接模式有时类似于多继承方案，但是多继承方案违背类类的单一职责原则，复用性比较差，而且多继承结构中类的个数非常庞大，桥接模式是比多继承方案更好的解决方法
- 桥接模式提高了 系统的可扩充性，在两个变化维度中任意扩展一个维度，都不需要修改原有系统
- 实现细节对客户透明，可以对用户隐藏实现细节
 
##### 缺点 #####

- 桥接模式会增加系统的理解与设计难度，由于聚合关联关系建立在抽象层，要求开发者对抽象进行设计与编程
- 桥接模式要求正确识别出系统中两个独立变化的维度，因此使用范围有一定的局限性

#### 扩展 ####

桥接模式和适配器模式用于设计的不同阶段，桥接模式用于系统的初步设计，对于存在两个独立变化维度的类可以将其分为抽象化和实现化两个角色，使它们可以分别进行变化；而在初步设计完成之后，当发现系统与已有类无法协同工作时，可以采用适配器模式。有时在设计初期也需要考虑适配器模式，特别是那些涉及到大量第三方应用接口的情况。

#### 举例 ####

- 跨平台的播放器(播放器、平台两个维度)
- OA的提醒消息（消息类型、发送方式两个维度）


 




