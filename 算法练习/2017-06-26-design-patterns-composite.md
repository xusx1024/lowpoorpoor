---
title: 组合模式
date: 2017-06-26
tags: 设计模式
categories: Design Pattern
---

#### 定义 ####

组合模式(Composite Pattern):组合多个对象形成树形结构以表示具有“整体-部分”关系的层次结构。组合模式对单个对象和组合对象的使用具有一致性，组合模式又可以称为“整体-部分”（Part-Whole）模式，它是一种对象结构型模式。
 
#### 模式结构 ####

- Component：抽象构件。给参加组合的对象定义公共的接口及其默认行为，可以用来管理所有的子对象。在安全式中，可以为接口，不定义具体的方法；在透明式中，定义为抽象类，给出具体的操作及默认处理。
- Leaf：树叶构件。没有下级子对象的对象。
- Composite：具体构件。拥有下级子对象的对象。树枝构件类给出所有的管理子对象的方法，如add,get,remove

##### 安全式组合模式 #####
 
![类图](/images/composite_pattern_class_diagram_1.png)

##### 透明式组合模式 #####
 
![类图](/images/composite_pattern_class_diagram_2.png)
  
#### 代码 ####

[GitHub](https://github.com/xusx1024/DesignPatternDemoCode/tree/master/CompositePattern)

#### 分析 ####

##### 安全式 #####

- 具体构件给出了add、get、remove等方法的声明和实现，而树叶构件类则没有，这样是安全的做法，客户端不可能错误的调用树叶构件的方法，因为树叶构件没有这些方法
- 由于树叶类和树枝类具有不同的接口，无法面向抽象编程

##### 透明式 #####

- 透明式要求所有的具体构件类、树叶类，均符合一个固定的接口
- 客户端调用的时候，不再需要区分树枝类、树叶类，可以面向接口编程，对客户端来说，是透明的

 
 
 

 



 




