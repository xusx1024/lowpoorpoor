<?xml version="1.0" encoding="UTF-8" standalone="yes"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="318.4px" style="width:607px;height:318px;" version="1.1" viewBox="0 0 607 318" width="607.2px"><defs><filter height="300%" id="f1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.600000023841858"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.200000047683716" dy="3.200000047683716" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1)" height="217.8625" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="72" y="55.4375"/><rect fill="#FFFFFF" filter="url(#f1)" height="194.5563" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="185.2" y="78.7438"/><rect fill="#FFFFFF" filter="url(#f1)" height="164.85" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="189.2" y="108.45"/><rect fill="#FFFFFF" filter="url(#f1)" height="137.5438" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="306" y="135.7563"/><rect fill="#FFFFFF" filter="url(#f1)" height="11.3063" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="406.4" y="159.0625"/><line style="stroke: #A80036; stroke-width: 0.800000011920929; stroke-dasharray: 5.0,5.0;" x1="75.6" x2="75.6" y1="30.6375" y2="287.8063"/><line style="stroke: #A80036; stroke-width: 0.800000011920929; stroke-dasharray: 5.0,5.0;" x1="189.2" x2="189.2" y1="30.6375" y2="287.8063"/><line style="stroke: #A80036; stroke-width: 0.800000011920929; stroke-dasharray: 5.0,5.0;" x1="310" x2="310" y1="30.6375" y2="287.8063"/><line style="stroke: #A80036; stroke-width: 0.800000011920929; stroke-dasharray: 5.0,5.0;" x1="410" x2="410" y1="30.6375" y2="287.8063"/><rect fill="#FEFECE" filter="url(#f1)" height="24.2375" style="stroke: #A80036; stroke-width: 1.2000000178813934;" width="71.2" x="38.8" y="2.4"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="60" x="44.4" y="18.3961">VirtualCore</text><rect fill="#FEFECE" filter="url(#f1)" height="24.2375" style="stroke: #A80036; stroke-width: 1.2000000178813934;" width="71.2" x="38.8" y="287.0063"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="60" x="44.4" y="303.0023">VirtualCore</text><rect fill="#FEFECE" filter="url(#f1)" height="24.2375" style="stroke: #A80036; stroke-width: 1.2000000178813934;" width="132.8" x="121.2" y="2.4"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="121.6" x="126.8" y="18.3961">ServiceManagerNative</text><rect fill="#FEFECE" filter="url(#f1)" height="24.2375" style="stroke: #A80036; stroke-width: 1.2000000178813934;" width="132.8" x="121.2" y="287.0063"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="121.6" x="126.8" y="303.0023">ServiceManagerNative</text><rect fill="#FEFECE" filter="url(#f1)" height="24.2375" style="stroke: #A80036; stroke-width: 1.2000000178813934;" width="86.4" x="265.2" y="2.4"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="75.2" x="270.8" y="18.3961">ProviderCaller</text><rect fill="#FEFECE" filter="url(#f1)" height="24.2375" style="stroke: #A80036; stroke-width: 1.2000000178813934;" width="86.4" x="265.2" y="287.0063"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="75.2" x="270.8" y="303.0023">ProviderCaller</text><rect fill="#FEFECE" filter="url(#f1)" height="24.2375" style="stroke: #A80036; stroke-width: 1.2000000178813934;" width="92" x="362.8" y="2.4"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="80.8" x="368.4" y="18.3961">BinderProvider</text><rect fill="#FEFECE" filter="url(#f1)" height="24.2375" style="stroke: #A80036; stroke-width: 1.2000000178813934;" width="92" x="362.8" y="287.0063"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="80.8" x="368.4" y="303.0023">BinderProvider</text><rect fill="#FFFFFF" filter="url(#f1)" height="217.8625" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="72" y="55.4375"/><rect fill="#FFFFFF" filter="url(#f1)" height="194.5563" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="185.2" y="78.7438"/><rect fill="#FFFFFF" filter="url(#f1)" height="164.85" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="189.2" y="108.45"/><rect fill="#FFFFFF" filter="url(#f1)" height="137.5438" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="306" y="135.7563"/><rect fill="#FFFFFF" filter="url(#f1)" height="11.3063" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="406.4" y="159.0625"/><polygon fill="#A80036" points="62.4,52.2375,70.4,55.4375,62.4,58.6375,65.6,55.4375" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="2.4" x2="67.2" y1="55.4375" y2="55.4375"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="54.4" x="8" y="51.491">getService</text><polygon fill="#A80036" points="175.6,75.5438,183.6,78.7438,175.6,81.9438,178.8,78.7438" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="80" x2="180.4" y1="78.7438" y2="78.7438"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="54.4" x="85.6" y="74.7973">getService</text><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="193.2" x2="230.8" y1="98.1563" y2="98.1563"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="230.8" x2="230.8" y1="98.1563" y2="108.5563"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="198" x2="230.8" y1="108.5563" y2="108.5563"/><polygon fill="#A80036" points="206,105.3563,198,108.5563,206,111.7563,202.8,108.5563" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="92.8" x="202.8" y="94.1035">getServiceFetcher</text><polygon fill="#A80036" points="296.4,132.5563,304.4,135.7563,296.4,138.9563,299.6,135.7563" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="197.2" x2="301.2" y1="135.7563" y2="135.7563"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="16.8" x="202.8" y="131.8098">call</text><polygon fill="#A80036" points="396.8,155.8625,404.8,159.0625,396.8,162.2625,400,159.0625" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="314" x2="401.6" y1="159.0625" y2="159.0625"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="16.8" x="319.6" y="155.116">call</text><polygon fill="#A80036" points="322.8,167.1688,314.8,170.3688,322.8,173.5688,319.6,170.3688" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><line style="stroke: #A80036; stroke-width: 0.800000011920929; stroke-dasharray: 2.0,2.0;" x1="318" x2="409.6" y1="170.3688" y2="170.3688"/><polygon fill="#FBFB77" filter="url(#f1)" points="116,180.7688,116,248.7688,600,248.7688,600,188.7688,592,180.7688,116,180.7688" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="592" x2="592" y1="180.7688" y2="188.7688"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="600" x2="592" y1="188.7688" y2="188.7688"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="141.6" x="120.8" y="194.4223">这条call调用属于跨进程调用，</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="404.8" x="120.8" y="206.5285">BinderProvider左边的方法调用均位于VA主进程(main process，进程名io.virtualapp)</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="467.2" x="120.8" y="218.6348">右边的BinderProvider个ContentProvider，位于服务进程(server process，进程名io.virtualapp:x)</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="409.6" x="120.8" y="230.741">当ProviderCaller首次调用call时，Android系统会创建服务进程，启动ContentProvider,</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="187.2" x="120.8" y="242.8473">并调用BinderProvider.onCreate方法。</text><polygon fill="#A80036" points="198,270.1,190,273.3,198,276.5,194.8,273.3" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><line style="stroke: #A80036; stroke-width: 0.800000011920929; stroke-dasharray: 2.0,2.0;" x1="193.2" x2="309.2" y1="273.3" y2="273.3"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="16.8" x="202.8" y="269.3535">call</text></g></svg>